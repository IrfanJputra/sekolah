function normal() {
    $("article img").each(function() {
        $(this).css("width", function() {
            if ($(this).width() > $("article").width()) return error_b("menormalkan", "foto", "Artikel"), "75%"
        })
    })
}

function load_view() {
    let e = '<div class="commenthead"><h2>Loading</h2></div>',
        a = ".wrappercomment";
    $(a).append(e), $(a).children(":lt(2)").remove(), ajaxambil(), $("script.close").remove()
}

function ajaxambil() {
    $.ajax({
        type: "POST",
        url: BASE_URL + "komen/ambil_komentar/" + id_post,
        cache: !1,
        dataType: "json",
        success: e => {
            "suc" == e.type && $(".commenthead").html(e.view)
        },
        error: e => {
            $(".commentku").remove(), error_b(e.status, e.statusText, "Ambil Komentar")
        }
    })
}



function succ(e) {
    let a = $(".sidebar.error");
    a.html() ? (a.children("h2").text("Success Report"), a.append(`<div class="alert alert-default">${e}</div>`)) : $("aside").append('<div class="sidebar error"><h2>Success Report</h2><div class="alert alert-default">' + e + "</div></div>"), setTimeout(() => {
        $("aside>.error").fadeOut(time), setTimeout(() => {
            $("aside>.error").remove()
        }, time)
    }, 3e4)
}

function error_a(e) {
    $(e).remove()
}
var id_post = (parseInt($("main").attr("idpost")) - 20) / 5;
$(document).ready(() => {
    var e = ["labpost/", "next/", "prev/"],
        a = ["label", "penulis", "populer", "recent", "random"];
    a.forEach(function(e) {
        var a = `#${e}_id`;
        $.ajax({
            type: "POST",
            url: BASE_URL + "sidebar_get/" + e,
            cache: !1,
            dataType: "json",
            success: e => {
                "suc" == e.type && ($(a).html(e.view), setTimeout(() => {
                    yall({
                        lazyClass: "malas"
                    })
                }, 200), e.agenda && ($("#rand_agen").text("Agenda Akan Datang"), $(".wraptiga").addClass("agenda")))
            },
            error: (e, a) => {
                error_b(e.status, e.statusText, a)
            }
        })
    }), e.forEach(function(e) {
        var a = e.slice(0, -1),
            t = "#" + a;
        $.ajax({
            type: "POST",
            url: BASE_URL + e + id_post,
            cache: !1,
            dataType: "json",
            success: r => {
                if ("labpost/" == e) "suc" == r.type ? r.s.forEach(e => {
                    $("#top_label").append('<a href="' + BASE_URL + "tagar/" + e + '">' + e + "</a>"), $("#bott_label").append('<a href="' + BASE_URL + "tagar/" + e + '" class="sublabel btn btn-anim waves-effect" ><i class="fa fa-tag"></i><span>' + e + "</span></a>")
                }) : ($("#top_label").parent().remove(), $("#bott_label").parent().remove());
                else if ("next" == a || "prev" == a)
                    if ("" != r) {
                        var s = r[0].Link;
                        s = `${BASE_URL}lihat/${s}`;
                        var i = $(t).attr("title") + ": ";
                        i += r[0].Judul_Postingan, $(t).attr("href", s), $(t).attr("title", i)
                    } else error_a(t)
            },
            error: (e, r) => {
                "next" == a || "prev" == a ? error_a(t) : ($("#top_label").remove(), $("#bott_label").remove(), error_b(e.status, e.statusText, r))
            }
        })
    }), $("article img").each(function() {
        $(this).addClass("malas"), $(this).attr("data-src", $(this).attr("src")), $(this).attr("src", BASE_URL + "assets/load_post.gif")
    }), setTimeout(() => {
        yall({
            lazyClass: "malas"
        })
    }, 200), normal();
    var t = [1e3, 5e3, 1e4, 3e4];
    t.forEach(function(e) {
        setTimeout(() => {
            normal()
        }, e)
    })
}), $("#load-comment").on("click", () => {
    load_view()
});
var time = 1e3;